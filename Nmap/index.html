<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>[工具]Nmap笔记 | 高诺琪's Blog</title><meta name="keywords" content="工具"><meta name="author" content="高诺琪"><meta name="copyright" content="高诺琪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="前言Nmap（网络映射器）是Network Mapper的简称，图形界面为Zenmap。是一款网络嗅探和安全审核的工具。主要用于对目标的主机发现、端口扫描、版本探测等，为后面进行渗透做准备。官网地址：https:&#x2F;&#x2F;nmap.org 参数 table th:first-of-type {     width: 150px; &#x2F;&#x2F;设置表格样式 }       参数 说明    -sT TCP con">
<meta property="og:type" content="article">
<meta property="og:title" content="[工具]Nmap笔记">
<meta property="og:url" content="http://www.int0x80.top/Nmap/index.html">
<meta property="og:site_name" content="高诺琪&#39;s Blog">
<meta property="og:description" content="前言Nmap（网络映射器）是Network Mapper的简称，图形界面为Zenmap。是一款网络嗅探和安全审核的工具。主要用于对目标的主机发现、端口扫描、版本探测等，为后面进行渗透做准备。官网地址：https:&#x2F;&#x2F;nmap.org 参数 table th:first-of-type {     width: 150px; &#x2F;&#x2F;设置表格样式 }       参数 说明    -sT TCP con">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.int0x80.top/img/nmap.png">
<meta property="article:published_time" content="2020-06-26T13:52:51.000Z">
<meta property="article:modified_time" content="2020-10-13T00:40:04.292Z">
<meta property="article:author" content="高诺琪">
<meta property="article:tag" content="工具">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.int0x80.top/img/nmap.png"><link rel="shortcut icon" href="/img/sister.jpg"><link rel="canonical" href="http://www.int0x80.top/Nmap/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2020-10-13 08:40:04'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/sister.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/nmap.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">高诺琪's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">[工具]Nmap笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2020-06-26T13:52:51.000Z" title="undefined 2020-06-26 21:52:51">2020-06-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Nmap（网络映射器）是Network Mapper的简称，图形界面为Zenmap。是一款网络嗅探和安全审核的工具。主要用于对目标的主机发现、端口扫描、版本探测等，为后面进行渗透做准备。<br>官网地址：<a target="_blank" rel="noopener" href="https://nmap.org">https://nmap.org</a></p>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><style>
table th:first-of-type {
    width: 150px; //设置表格样式
}
</style>


<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-sT</td>
<td align="left">TCP connect()扫描，这是最基本的TCP扫描方式。这种扫描很容易被检测到，在目标主机的日志中会记录大批的连接请求以及错误信息。</td>
</tr>
<tr>
<td align="left">-sS</td>
<td align="left">TCP同步扫描(TCP SYN)，因为不必全部打开一个TCP连接，所以这项技术通常称为半开扫描(half-open)。这项技术最大的好处是，很少有系统能够把这记入系统日志。不过，你需要root权限来定制SYN数据包。</td>
</tr>
<tr>
<td align="left">-sF,-sX,-sN</td>
<td align="left">秘密FIN数据包扫描、圣诞树(Xmas Tree)、空(Null)扫描模式。这些扫描方式的理论依据是：关闭的端口需要对你的探测包回应RST包，而打开的端口必需忽略有问题的包(参考RFC 793第64页)。</td>
</tr>
<tr>
<td align="left">-sP</td>
<td align="left">ping扫描，nmap在任何情况下都会进行ping扫描，只有目标主机处于运行状态，才会进行后续的扫描。</td>
</tr>
<tr>
<td align="left">-sU</td>
<td align="left">UDP扫描。</td>
</tr>
<tr>
<td align="left">-sA</td>
<td align="left">ACK扫描，这项高级的扫描方法通常可以用来穿过防火墙。</td>
</tr>
<tr>
<td align="left">-sW</td>
<td align="left">滑动窗口扫描，非常类似于ACK的扫描。</td>
</tr>
<tr>
<td align="left">-sR</td>
<td align="left">RPC扫描，和其它不同的端口扫描方法结合使用。</td>
</tr>
<tr>
<td align="left">-b</td>
<td align="left">FTP反弹攻击(bounce attack)，连接到防火墙后面的一台FTP服务器做代理，接着进行端口扫描。</td>
</tr>
<tr>
<td align="left">-P0</td>
<td align="left">在扫描之前，不ping主机。</td>
</tr>
<tr>
<td align="left">-PT</td>
<td align="left">扫描之前，使用TCP ping确定哪些主机正在运行。</td>
</tr>
<tr>
<td align="left">-PS</td>
<td align="left">对于root用户，这个选项让nmap使用SYN包而不是ACK包来对目标主机进行扫描。</td>
</tr>
<tr>
<td align="left">-PI</td>
<td align="left">设置这个选项，让nmap使用真正的ping(ICMP echo请求)来扫描目标主机是否正在运行。</td>
</tr>
<tr>
<td align="left">-PB</td>
<td align="left">这是默认的ping扫描选项。它使用ACK(-PT)和ICMP(-PI)两种扫描类型并行扫描。如果防火墙能够过滤其中一种包，使用这种方法，你就能够穿过防火墙。</td>
</tr>
<tr>
<td align="left">-O</td>
<td align="left">识别远程主机系统。</td>
</tr>
<tr>
<td align="left">-I</td>
<td align="left">打开nmap的反向标志扫描功能。</td>
</tr>
<tr>
<td align="left">-f</td>
<td align="left">使用碎片IP数据包发送SYN、FIN、XMAS、NULL。包增加包过滤、入侵检测系统的难度，使其无法知道你的企图。</td>
</tr>
<tr>
<td align="left">-S &lt; IP &gt;</td>
<td align="left">在一些情况下，nmap可能无法确定你的源地址(nmap会告诉你)。在这种情况使用这个选项给出你的IP地址。这个标志的另一个用处是哄骗性的扫描，使得目标认为是另 一个地址在进行扫描</td>
</tr>
<tr>
<td align="left">-v</td>
<td align="left">冗余模式。强烈推荐使用这个选项，它会给出扫描过程中的详细信息。</td>
</tr>
<tr>
<td align="left">-g port</td>
<td align="left">设置扫描的源端口。一些天真的防火墙和包过滤器的规则集允许源端口为DNS(53)或者FTP-DATA(20)的包通过和实现连接。显然，如果攻击者把源端口修改为20或者53，就可以摧毁防火墙的防护。</td>
</tr>
<tr>
<td align="left">-6</td>
<td align="left">默认为ipv4，需要用ipv6时使用</td>
</tr>
<tr>
<td align="left">-oN &lt; File &gt;</td>
<td align="left">要求将标准输出直接写入指定的文件</td>
</tr>
<tr>
<td align="left">-oX</td>
<td align="left">输出xml文件</td>
</tr>
<tr>
<td align="left">exclude &lt; ip &gt;</td>
<td align="left">排除指定的主机</td>
</tr>
<tr>
<td align="left">excludefile &lt; file &gt;</td>
<td align="left">排除制定文件内的ip</td>
</tr>
</tbody></table>
<h3 id="设置时间模板"><a href="#设置时间模板" class="headerlink" title="设置时间模板"></a>设置时间模板</h3><p>Nmap使用6个时间模板，使用时采用-T选项及数字(0 - 5) 或名称</p>
<ul>
<li>paranoid (0)</li>
<li>sneaky (1)</li>
<li>polite (2)</li>
<li>normal(3)</li>
<li>aggressive (4)</li>
<li>insane (5)</li>
</ul>
<p>前两种模式用于IDS躲避，Polite模式降低了扫描 速度以使用更少的带宽和目标主机资源，默认模式为Normal，Aggressive模式假设用户具有合适及可靠的网络从而加速 扫描。Insane模式假设用户具有特别快的网络或者愿意为获得速度而牺牲准确性。</p>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h3 id="快速扫描"><a href="#快速扫描" class="headerlink" title="快速扫描"></a>快速扫描</h3><p>命令语法：<code>nmap &lt; ip &gt;</code><br>nmap默认发送一个arp的ping包，默认探测的端口为1-10000</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-24 03:13 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.000084</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br></pre></td></tr></table></figure>
<h3 id="自定义端口扫描"><a href="#自定义端口扫描" class="headerlink" title="自定义端口扫描"></a>自定义端口扫描</h3><p>命令语法：<code>nmap -p(port1,port2) &lt; ip &gt;</code><br>有时候只需要知道几个端口是否开放，可以用-p指定端口进行扫描</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -p22,3306 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 03:22 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00062</span>s latency).</span><br><span class="line"></span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br></pre></td></tr></table></figure>
<p>命令语法：<code>nmap -p(range) &lt; ip &gt;</code><br>nmap默认扫描1-10000，有时候需要查看其他端口开放情况可以用-p指定范围，最大范围不能大于65535</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -p1-65535 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 03:27 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00088</span>s latency).</span><br><span class="line">Not shown: <span class="number">65533</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">1.86</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="冗余显示"><a href="#冗余显示" class="headerlink" title="冗余显示"></a>冗余显示</h3><p>命令语法：  <code>nmap -vv &lt; ip &gt;</code><br>进行简单扫描并且对结果进行详细输出</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -vv 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 04:14 EDT</span></span><br><span class="line">Initiating ARP Ping Scan at <span class="number">04</span>:<span class="number">14</span></span><br><span class="line">Scanning <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span> [<span class="number">1</span> port]</span><br><span class="line">Completed ARP Ping Scan at <span class="number">04</span>:<span class="number">14</span>, <span class="number">0.00</span>s elapsed (<span class="number">1</span> total hosts)</span><br><span class="line">Initiating Parallel DNS resolution of <span class="number">1</span> host. at <span class="number">04</span>:<span class="number">14</span></span><br><span class="line">Completed Parallel DNS resolution of <span class="number">1</span> host. at <span class="number">04</span>:<span class="number">14</span>, <span class="number">0.00</span>s elapsed</span><br><span class="line">Initiating SYN Stealth Scan at <span class="number">04</span>:<span class="number">14</span></span><br><span class="line">Scanning <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span> [<span class="number">1000</span> ports]</span><br><span class="line">Discovered open port <span class="number">3306</span>/tcp on <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Discovered open port <span class="number">22</span>/tcp on <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Completed SYN Stealth Scan at <span class="number">04</span>:<span class="number">14</span>, <span class="number">0.04</span>s elapsed (<span class="number">1000</span> total ports)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up, received arp-response (<span class="number">0.00013</span>s latency).</span><br><span class="line">Scanned at <span class="number">2020</span><span class="number">-06</span><span class="number">-25</span> <span class="number">04</span>:<span class="number">14</span>:<span class="number">28</span> EDT <span class="keyword">for</span> <span class="number">0</span>s</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">Reason: <span class="number">998</span> resets</span><br><span class="line">PORT     STATE SERVICE REASON</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh     syn-ack ttl <span class="number">64</span></span><br><span class="line"><span class="number">3306</span>/tcp open  mysql   syn-ack ttl <span class="number">64</span></span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Read data files from: /usr/bin/../share/nmap</span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.10</span> seconds</span><br><span class="line">           Raw packets sent: <span class="number">1001</span> (<span class="number">44.028</span>KB) | Rcvd: <span class="number">1001</span> (<span class="number">40.036</span>KB)</span><br></pre></td></tr></table></figure>
<h3 id="ping扫描"><a href="#ping扫描" class="headerlink" title="ping扫描"></a>ping扫描</h3><p>命令语法：<code>nmap -sP &lt; ip &gt;</code><br>c段：<code>192.168.148.0/24</code>  or <code>192.168.148.1-255</code><br>用ping的方式来找到存活的主机，也可以用来寻找c段的主机</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">oot@gnq:~/Desktop<span class="meta"># nmap -sP  192.168.148.*</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 04:19 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.1</span></span><br><span class="line">Host is up (<span class="number">0.00099</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">50</span>:<span class="number">56</span>:C0:<span class="number">00</span>:<span class="number">08</span> (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.2</span></span><br><span class="line">Host is up (<span class="number">0.00019</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">50</span>:<span class="number">56</span>:F2:<span class="number">26</span>:<span class="number">7</span>E (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.128</span></span><br><span class="line">Host is up (<span class="number">0.00017</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">4B</span>:<span class="number">50</span>:FF (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00030</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.254</span></span><br><span class="line">Host is up (<span class="number">0.00018</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">50</span>:<span class="number">56</span>:E4:<span class="number">06</span>:<span class="number">43</span> (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.129</span></span><br><span class="line">Host is up.</span><br><span class="line">Nmap done: <span class="number">256</span> IP addresses (<span class="number">6</span> hosts up) scanned in <span class="number">1.97</span> seconds</span><br></pre></td></tr></table></figure>
<p>有些主机禁止ping，可以用P0来跳过ping直接直接扫描</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">oot@gnq:~/Desktop<span class="meta"># nmap -P0  192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 04:44 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00011</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.11</span> seconds</span><br></pre></td></tr></table></figure>
<p>sL仅列出指定网络上的每台主机，不发送任何报文到目标主机<br>命令语法 <code>nmap -sL 192.168.148.*</code></p>
<h3 id="系统类型探测"><a href="#系统类型探测" class="headerlink" title="系统类型探测"></a>系统类型探测</h3><p>命令语法： <code>nmap -O &lt; ip &gt;</code><br>探测目标的系统版本</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -O 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 04:27 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00081</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line">Device type: general purpose</span><br><span class="line">Running: Linux <span class="number">3.</span>X|<span class="number">4.</span>X</span><br><span class="line">OS CPE: cpe:/o:linux:linux_kernel:<span class="number">3</span> cpe:/o:linux:linux_kernel:<span class="number">4</span></span><br><span class="line">OS details: Linux <span class="number">3.2</span> - <span class="number">4.9</span></span><br><span class="line">Network Distance: <span class="number">1</span> hop</span><br><span class="line"></span><br><span class="line">OS detection performed. Please report any incorrect results at https:<span class="comment">//nmap.org/submit/ .</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">1.53</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="TCP扫描"><a href="#TCP扫描" class="headerlink" title="TCP扫描"></a>TCP扫描</h3><p>命令语法：<code>nmap -sT &lt; ip &gt;</code><br>查看服务器开放TCP协议的端口</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -sT 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:06 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00097</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br></pre></td></tr></table></figure>

<h3 id="UDP扫描"><a href="#UDP扫描" class="headerlink" title="UDP扫描"></a>UDP扫描</h3><p>命令语法: <code>nmap -sU &lt; ip &gt;</code><br>查看服务器开放UDP协议的端口</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -sU 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:11 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.0011</span>s latency).</span><br><span class="line">All <span class="number">1000</span> scanned ports on <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span> are closed (<span class="number">956</span>) <span class="keyword">or</span> open|filtered (<span class="number">44</span>)</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">1035.39</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="SYN扫描"><a href="#SYN扫描" class="headerlink" title="SYN扫描"></a>SYN扫描</h3><p>命令语法：<code>nmap -sS &lt; ip &gt;</code><br>没有进行完整的TCP连接，执行速度快，且很少被记录在系统日志当中，需要root权限</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -sS 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 20:43 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.000083</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.09</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="服务版本探测"><a href="#服务版本探测" class="headerlink" title="服务版本探测"></a>服务版本探测</h3><p>命令语法: <code>nmap -sV &lt; ip &gt;</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~<span class="meta"># nmap -sV 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:14 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00022</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh     OpenSSH <span class="number">7.4</span> (protocol <span class="number">2.0</span>)</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql   MySQL <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https:<span class="comment">//nmap.org/submit/ .</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">2.01</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="协议探测"><a href="#协议探测" class="headerlink" title="协议探测"></a>协议探测</h3><p>命令语法 <code>nmap -sO &lt; ip &gt;</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~<span class="meta"># nmap -sO 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:18 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00057</span>s latency).</span><br><span class="line">Not shown: <span class="number">252</span> open|filtered protocols</span><br><span class="line">PROTOCOL STATE  SERVICE</span><br><span class="line"><span class="number">1</span>        open   icmp</span><br><span class="line"><span class="number">6</span>        open   tcp</span><br><span class="line"><span class="number">21</span>       closed prm</span><br><span class="line"><span class="number">79</span>       closed wb-expak</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">2.33</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="路由追踪"><a href="#路由追踪" class="headerlink" title="路由追踪"></a>路由追踪</h3><p>命令语法：<code>nmap -traceroute www.baidu.com</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">oot@gnq:~<span class="meta"># nmap --traceroute www.baidu.com</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:27 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> www.baidu.com (<span class="number">36.152</span><span class="number">.44</span><span class="number">.95</span>)</span><br><span class="line">Host is up (<span class="number">0.013</span>s latency).</span><br><span class="line">Other addresses <span class="keyword">for</span> www.baidu.com (<span class="keyword">not</span> scanned): <span class="number">36.152</span><span class="number">.44</span><span class="number">.96</span></span><br><span class="line">Not shown: <span class="number">998</span> filtered ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line"><span class="number">80</span>/tcp  open  http</span><br><span class="line"><span class="number">443</span>/tcp open  https</span><br><span class="line"></span><br><span class="line">TRACEROUTE (<span class="keyword">using</span> port <span class="number">80</span>/tcp)</span><br><span class="line">HOP RTT     ADDRESS</span><br><span class="line"><span class="number">1</span>   <span class="number">0.22</span> ms <span class="number">192.168</span><span class="number">.148</span><span class="number">.2</span></span><br><span class="line"><span class="number">2</span>   <span class="number">0.09</span> ms <span class="number">36.152</span><span class="number">.44</span><span class="number">.95</span></span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">54.45</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="读取文件ip扫描"><a href="#读取文件ip扫描" class="headerlink" title="读取文件ip扫描"></a>读取文件ip扫描</h3><p>命令语法：<code>nmap -iL &lt; File &gt;</code><br>读取文件中的ip，可以进行批量处理</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~<span class="meta"># cat test.txt </span></span><br><span class="line"><span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.148</span><span class="number">.128</span></span><br><span class="line">root@gnq:~# </span><br><span class="line">root@gnq:~#                                                                                                                                                                                                                                </span><br><span class="line">root@gnq:~<span class="meta"># nmap -iL test.txt                                                                                                                                                                                                              </span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:51 EDT                                                                                                                                                                            </span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span>                                                                                                                                                                                                       </span><br><span class="line">Host is up (<span class="number">0.00048</span>s latency).                                                                                                                                                                                                             </span><br><span class="line">Not shown: <span class="number">998</span> closed ports                                                                                                                                                                                                                </span><br><span class="line">PORT     STATE SERVICE                                                                                                                                                                                                                     </span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.128</span></span><br><span class="line">Host is up (<span class="number">0.00045</span>s latency).</span><br><span class="line">Not shown: <span class="number">999</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">4000</span>/tcp open  remoteanything</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">4B</span>:<span class="number">50</span>:FF (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">2</span> IP addresses (<span class="number">2</span> hosts up) scanned in <span class="number">0.26</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="保存输出"><a href="#保存输出" class="headerlink" title="保存输出"></a>保存输出</h3><p>可以用-oG/oN 来保存nmap的输出结果</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">oot@gnq:~<span class="meta"># nmap -sV 192.168.148.137 -oG out.txt</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 04:03 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.000088</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh     OpenSSH <span class="number">7.4</span> (protocol <span class="number">2.0</span>)</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql   MySQL <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https:<span class="comment">//nmap.org/submit/ .</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.41</span> seconds</span><br><span class="line">root@gnq:~# </span><br><span class="line">root@gnq:~# </span><br><span class="line">root@gnq:~<span class="meta"># cat out.txt </span></span><br><span class="line"># Nmap <span class="number">7.80</span> scan initiated Fri Jun <span class="number">26</span> <span class="number">04</span>:<span class="number">03</span>:<span class="number">52</span> <span class="number">2020</span> as: nmap -sV -oG out.txt <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host: <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span> ()        Status: Up</span><br><span class="line">Host: <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span> ()        Ports: <span class="number">22</span>/open/tcp<span class="comment">//ssh//OpenSSH 7.4 (protocol 2.0)/, 3306/open/tcp//mysql//MySQL 5.7.30/       Ignored State: closed (998)</span></span><br><span class="line"># Nmap done at Fri Jun <span class="number">26</span> <span class="number">04</span>:<span class="number">03</span>:<span class="number">53</span> <span class="number">2020</span> -- <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.41</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="复合命令"><a href="#复合命令" class="headerlink" title="复合命令"></a>复合命令</h3><p>命令语法: <code>nmap -A &lt; ip &gt;</code><br>-A 集成了探测操作系统类型和服务版本、路由追踪。 根据需求可以自定义组合命令参数进行探测</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~<span class="meta"># nmap -A 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 04:12 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00052</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh     OpenSSH <span class="number">7.4</span> (protocol <span class="number">2.0</span>)</span><br><span class="line">| ssh-hostkey: </span><br><span class="line">|   <span class="number">2048</span> fd:<span class="number">00</span>:<span class="number">59</span>:<span class="number">4</span>e:e1:d7:<span class="number">84</span>:<span class="number">4b</span>:<span class="number">78</span>:<span class="number">2</span>d:<span class="number">2f</span>:<span class="number">29</span>:cb:<span class="number">64</span>:e9:eb (RSA)</span><br><span class="line">|   <span class="number">256</span> f3:<span class="number">22</span>:<span class="number">6b</span>:b1:<span class="number">51</span>:bc:a1:c3:<span class="number">92</span>:<span class="number">34</span>:<span class="number">58</span>:d6:<span class="number">63</span>:<span class="number">09</span>:b7:df (ECDSA)</span><br><span class="line">|_  <span class="number">256</span> <span class="number">8</span>c:<span class="number">99</span>:b7:b5:ea:<span class="number">50</span>:d2:bc:<span class="number">7</span>d:dc:f7:<span class="number">1b</span>:fb:<span class="number">5</span>a:ed:fd (ED25519)</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql   MySQL <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">| mysql-info: </span><br><span class="line">|   Protocol: <span class="number">10</span></span><br><span class="line">|   Version: <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">|   Thread ID: <span class="number">9</span></span><br><span class="line">|   Capabilities flags: <span class="number">65535</span></span><br><span class="line">|   Some Capabilities: SupportsLoadDataLocal, Speaks41ProtocolNew, LongColumnFlag, Speaks41ProtocolOld, IgnoreSigpipes, SupportsTransactions, LongPassword, SwitchToSSLAfterHandshake, ConnectWithDatabase, IgnoreSpaceBeforeParenthesis, Support41Auth, DontAllowDatabaseTableColumn, InteractiveClient, SupportsCompression, ODBCClient, FoundRows, SupportsMultipleStatments, SupportsMultipleResults, SupportsAuthPlugins</span><br><span class="line">|   Status: Autocommit</span><br><span class="line">|   Salt: <span class="number">1</span>iw5a\x15s\x0D5U\x17`w\x18\x1D\x033uw\x1A</span><br><span class="line">|_  Auth Plugin Name: mysql_native_password</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line">Device type: general purpose</span><br><span class="line">Running: Linux <span class="number">3.</span>X|<span class="number">4.</span>X</span><br><span class="line">OS CPE: cpe:/o:linux:linux_kernel:<span class="number">3</span> cpe:/o:linux:linux_kernel:<span class="number">4</span></span><br><span class="line">OS details: Linux <span class="number">3.2</span> - <span class="number">4.9</span></span><br><span class="line">Network Distance: <span class="number">1</span> hop</span><br><span class="line"></span><br><span class="line">TRACEROUTE</span><br><span class="line">HOP RTT     ADDRESS</span><br><span class="line"><span class="number">1</span>   <span class="number">0.52</span> ms <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line"></span><br><span class="line">OS <span class="keyword">and</span> Service detection performed. Please report any incorrect results at https:<span class="comment">//nmap.org/submit/ .</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">4.31</span> seconds</span><br></pre></td></tr></table></figure>

<h2 id="脚本使用"><a href="#脚本使用" class="headerlink" title="脚本使用"></a>脚本使用</h2><p>nmap中集成了大量的脚本供用户使用，脚本名以<code>.nse</code>为后缀，存放在<code>/usr/share/nmap/script</code>目录下。</p>
<h3 id="脚本类型如下："><a href="#脚本类型如下：" class="headerlink" title="脚本类型如下："></a>脚本类型如下：</h3><ul>
<li>auth: 负责处理鉴权证书绕开鉴权的脚本  </li>
<li>broadcast: 在局域网内探查更多服务开启状况如dhcp/dns/sqlserver等服务  </li>
<li>brute: 提供暴力破解方式针对常见的应用如http/snmp等  </li>
<li>default: 使用-sC或-A选项扫描时候默认的脚本提供基本脚本扫描能力  </li>
<li>discovery: 对网络进行更多的信息如SMB枚举、SNMP查询等  </li>
<li>dos: 用于进行拒绝服务攻击  </li>
<li>exploit: 利用已知的漏洞入侵系统  </li>
<li>external: 利用第三方的数据库或资源例如进行whois解析  </li>
<li>fuzzer: 模糊测试的脚本发送异常的包到目标机探测出潜在漏洞 </li>
<li>intrusive: 入侵性的脚本此类脚本可能引发对方的IDS/IPS的记录或屏蔽</li>
<li>malware: 探测目标机是否感染了病毒、开启了后门等信息  </li>
<li>safe: 此类与intrusive相反属于安全性脚本  </li>
<li>version: 负责增强服务与版本扫描Version Detection功能的脚本  </li>
<li>vuln: 负责检查目标机是否有常见的漏洞Vulnerability如是否有MS08_067</li>
</ul>
<h3 id="脚本参数："><a href="#脚本参数：" class="headerlink" title="脚本参数："></a>脚本参数：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-sC ： --script=<span class="keyword">default</span> 使用默认选项</span><br><span class="line">--script=&lt; 脚本名称 &gt; : 选取使用的脚本</span><br><span class="line">--script-args=&lt; arg1=arg1 &gt; ：设置脚本参数</span><br><span class="line">--script-args-file=&lt; File &gt; ：设置脚本使用的文件</span><br><span class="line">--script-trace ：显示脚本执行过程的数据</span><br><span class="line">--script-help=&lt; 脚本名称&gt; ： 显示帮助信息</span><br></pre></td></tr></table></figure>

<h3 id="默认脚本扫描"><a href="#默认脚本扫描" class="headerlink" title="默认脚本扫描"></a>默认脚本扫描</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:/<span class="meta"># nmap -sC 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 07:39 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00010</span>s latency).</span><br><span class="line">Not shown: <span class="number">997</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">21</span>/tcp   open  ftp</span><br><span class="line">| ftp-anon: Anonymous FTP login allowed (FTP code <span class="number">230</span>)</span><br><span class="line">|_drwxr-xr-x    <span class="number">2</span> <span class="number">0</span>        <span class="number">0</span>               <span class="number">6</span> Apr <span class="number">01</span> <span class="number">04</span>:<span class="number">55</span> pub</span><br><span class="line">| ftp-syst: </span><br><span class="line">|   STAT: </span><br><span class="line">| FTP server status:</span><br><span class="line">|      Connected to ::ffff:<span class="number">192.168</span><span class="number">.148</span><span class="number">.129</span></span><br><span class="line">|      Logged in as ftp</span><br><span class="line">|      TYPE: ASCII</span><br><span class="line">|      No session bandwidth limit</span><br><span class="line">|      Session timeout in seconds is <span class="number">300</span></span><br><span class="line">|      Control connection is plain text</span><br><span class="line">|      Data connections will be plain text</span><br><span class="line">|      At session startup, client count was <span class="number">2</span></span><br><span class="line">|      vsFTPd <span class="number">3.0</span><span class="number">.2</span> - secure, fast, stable</span><br><span class="line">|_End of status</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line">| ssh-hostkey: </span><br><span class="line">|   <span class="number">2048</span> fd:<span class="number">00</span>:<span class="number">59</span>:<span class="number">4</span>e:e1:d7:<span class="number">84</span>:<span class="number">4b</span>:<span class="number">78</span>:<span class="number">2</span>d:<span class="number">2f</span>:<span class="number">29</span>:cb:<span class="number">64</span>:e9:eb (RSA)</span><br><span class="line">|   <span class="number">256</span> f3:<span class="number">22</span>:<span class="number">6b</span>:b1:<span class="number">51</span>:bc:a1:c3:<span class="number">92</span>:<span class="number">34</span>:<span class="number">58</span>:d6:<span class="number">63</span>:<span class="number">09</span>:b7:df (ECDSA)</span><br><span class="line">|_  <span class="number">256</span> <span class="number">8</span>c:<span class="number">99</span>:b7:b5:ea:<span class="number">50</span>:d2:bc:<span class="number">7</span>d:dc:f7:<span class="number">1b</span>:fb:<span class="number">5</span>a:ed:fd (ED25519)</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">| mysql-info: </span><br><span class="line">|   Protocol: <span class="number">10</span></span><br><span class="line">|   Version: <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">|   Thread ID: <span class="number">45039</span></span><br><span class="line">|   Capabilities flags: <span class="number">65535</span></span><br><span class="line">|   Some Capabilities: Support41Auth, SupportsLoadDataLocal, Speaks41ProtocolOld, SupportsCompression, FoundRows, SupportsTransactions, LongPassword, ODBCClient, ConnectWithDatabase, IgnoreSigpipes, SwitchToSSLAfterHandshake, DontAllowDatabaseTableColumn, InteractiveClient, Speaks41ProtocolNew, IgnoreSpaceBeforeParenthesis, LongColumnFlag, SupportsMultipleStatments, SupportsMultipleResults, SupportsAuthPlugins</span><br><span class="line">|   Status: Autocommit</span><br><span class="line">|   Salt: _/&gt;h\x15f`Xb\x0FC_%^c\x0CY\x01,|</span><br><span class="line">|_  Auth Plugin Name: mysql_native_password</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.54</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="mysql爆破"><a href="#mysql爆破" class="headerlink" title="mysql爆破"></a>mysql爆破</h3><p><code>nmap --script=mysql-brute &lt; ip &gt;</code>  对mysql进行爆破，并且成功爆破出账号密码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:/<span class="meta"># nmap --script=mysql-brute 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 04:48 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00017</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">| mysql-brute: </span><br><span class="line">|   Accounts: </span><br><span class="line">|     root:root - Valid credentials</span><br><span class="line">|_  Statistics: Performed <span class="number">45009</span> guesses in <span class="number">33</span> seconds, average tps: <span class="number">1418.9</span></span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">32.72</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="ftp匿名用户"><a href="#ftp匿名用户" class="headerlink" title="ftp匿名用户"></a>ftp匿名用户</h3><p><code>nmap --script=ftp-anon 192.168.148.137</code> 查找该ip是否允许ftp使用匿名用户进行登入</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:/<span class="meta"># nmap --script=ftp-anon 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 07:15 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.000082</span>s latency).</span><br><span class="line">Not shown: <span class="number">997</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">21</span>/tcp   open  ftp</span><br><span class="line">| ftp-anon: Anonymous FTP login allowed (FTP code <span class="number">230</span>)</span><br><span class="line">|_drwxr-xr-x    <span class="number">2</span> <span class="number">0</span>        <span class="number">0</span>               <span class="number">6</span> Apr <span class="number">01</span> <span class="number">04</span>:<span class="number">55</span> pub</span><br><span class="line"><span class="number">22</span>/tcp   open  ssh</span><br><span class="line"><span class="number">3306</span>/tcp open  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.29</span> seconds</span><br></pre></td></tr></table></figure>
<h3 id="执行DOS攻击"><a href="#执行DOS攻击" class="headerlink" title="执行DOS攻击"></a>执行DOS攻击</h3><p><code>nmap  --script http-slowloris --max-parallelism 1000 192.168.148.137</code>  </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:/<span class="meta"># nmap  --script http-slowloris --max-parallelism 1000 192.168.148.137</span></span><br><span class="line">Warning: Your max-parallelism (-M) option is extraordinarily high, which can hurt reliability</span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 09:00 EDT</span></span><br></pre></td></tr></table></figure>


<p>参考及部分内容转载（侵删）</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://linux.51yip.com/search/nmap">http://linux.51yip.com/search/nmap</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/LyShark/p/10637507.html">https://www.cnblogs.com/LyShark/p/10637507.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.freebuf.com/news/141607.html">https://www.freebuf.com/news/141607.html</a></li>
<li><a target="_blank" rel="noopener" href="http://www.nmap.com.cn/doc/manual.shtm">http://www.nmap.com.cn/doc/manual.shtm</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">高诺琪</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.int0x80.top/Nmap/">http://www.int0x80.top/Nmap/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.int0x80.top" target="_blank">高诺琪's Blog</a>！</span></div></div><div class="tag_share"><div class="post_share"><div class="social-share" data-image="/img/nmap.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"><img class="prev-cover" src="/img/evening.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">文件上传</div></div></a></div><div class="next-post pull-right"><a href="/Hydra/"><img class="next-cover" src="/img/hydra.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">[工具]Hydra笔记</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/Hydra/" title="[工具]Hydra笔记"><img class="cover" src="/img/hydra.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-19</div><div class="title">[工具]Hydra笔记</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/sister.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">高诺琪</div><div class="author-info__description">Life Is Like A Boat</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div><a class="button--animated" id="card-info-btn" href="tencent://message/?uin=1060434751&amp;Site=&amp;Menu=yes"><i class="fab fa-qq"></i><span>QQ</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">宁静致远</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number">2.</span> <span class="toc-text">参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%97%B6%E9%97%B4%E6%A8%A1%E6%9D%BF"><span class="toc-number">2.1.</span> <span class="toc-text">设置时间模板</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">使用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%89%AB%E6%8F%8F"><span class="toc-number">3.1.</span> <span class="toc-text">快速扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F"><span class="toc-number">3.2.</span> <span class="toc-text">自定义端口扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%97%E4%BD%99%E6%98%BE%E7%A4%BA"><span class="toc-number">3.3.</span> <span class="toc-text">冗余显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ping%E6%89%AB%E6%8F%8F"><span class="toc-number">3.4.</span> <span class="toc-text">ping扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%B1%BB%E5%9E%8B%E6%8E%A2%E6%B5%8B"><span class="toc-number">3.5.</span> <span class="toc-text">系统类型探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E6%89%AB%E6%8F%8F"><span class="toc-number">3.6.</span> <span class="toc-text">TCP扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E6%89%AB%E6%8F%8F"><span class="toc-number">3.7.</span> <span class="toc-text">UDP扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SYN%E6%89%AB%E6%8F%8F"><span class="toc-number">3.8.</span> <span class="toc-text">SYN扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%89%88%E6%9C%AC%E6%8E%A2%E6%B5%8B"><span class="toc-number">3.9.</span> <span class="toc-text">服务版本探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E6%8E%A2%E6%B5%8B"><span class="toc-number">3.10.</span> <span class="toc-text">协议探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E8%BF%BD%E8%B8%AA"><span class="toc-number">3.11.</span> <span class="toc-text">路由追踪</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6ip%E6%89%AB%E6%8F%8F"><span class="toc-number">3.12.</span> <span class="toc-text">读取文件ip扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E8%BE%93%E5%87%BA"><span class="toc-number">3.13.</span> <span class="toc-text">保存输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E5%91%BD%E4%BB%A4"><span class="toc-number">3.14.</span> <span class="toc-text">复合命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">4.</span> <span class="toc-text">脚本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-number">4.1.</span> <span class="toc-text">脚本类型如下：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E5%8F%82%E6%95%B0%EF%BC%9A"><span class="toc-number">4.2.</span> <span class="toc-text">脚本参数：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%84%9A%E6%9C%AC%E6%89%AB%E6%8F%8F"><span class="toc-number">4.3.</span> <span class="toc-text">默认脚本扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E7%88%86%E7%A0%B4"><span class="toc-number">4.4.</span> <span class="toc-text">mysql爆破</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ftp%E5%8C%BF%E5%90%8D%E7%94%A8%E6%88%B7"><span class="toc-number">4.5.</span> <span class="toc-text">ftp匿名用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8CDOS%E6%94%BB%E5%87%BB"><span class="toc-number">4.6.</span> <span class="toc-text">执行DOS攻击</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/PwnExercise/" title="BUUOJ Pwn刷题记录"><img src="/img/lake.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BUUOJ Pwn刷题记录"/></a><div class="content"><a class="title" href="/PwnExercise/" title="BUUOJ Pwn刷题记录">BUUOJ Pwn刷题记录</a><time datetime="2098-12-31T16:00:00.000Z" title="发表于 2099-01-01 00:00:00">2099-01-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/WebExercise/" title="BUUOJ Web刷题记录"><img src="/img/mount.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BUUOJ Web刷题记录"/></a><div class="content"><a class="title" href="/WebExercise/" title="BUUOJ Web刷题记录">BUUOJ Web刷题记录</a><time datetime="2098-12-31T16:00:00.000Z" title="发表于 2099-01-01 00:00:00">2099-01-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/" title="关于2020即将结束这件事"><img src="/img/girl4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="关于2020即将结束这件事"/></a><div class="content"><a class="title" href="/2020/" title="关于2020即将结束这件事">关于2020即将结束这件事</a><time datetime="2020-12-31T11:34:25.000Z" title="发表于 2020-12-31 19:34:25">2020-12-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Pwn%E5%85%A5%E5%9D%91(%E8%82%86)/" title="Pwn入坑(肆)"><img src="/img/dusk.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Pwn入坑(肆)"/></a><div class="content"><a class="title" href="/Pwn%E5%85%A5%E5%9D%91(%E8%82%86)/" title="Pwn入坑(肆)">Pwn入坑(肆)</a><time datetime="2020-11-13T07:29:43.000Z" title="发表于 2020-11-13 15:29:43">2020-11-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Pwn%E5%85%A5%E5%9D%91(%E5%8F%81)/" title="Pwn入坑(叁)"><img src="/img/girl2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Pwn入坑(叁)"/></a><div class="content"><a class="title" href="/Pwn%E5%85%A5%E5%9D%91(%E5%8F%81)/" title="Pwn入坑(叁)">Pwn入坑(叁)</a><time datetime="2020-11-09T00:41:19.000Z" title="发表于 2020-11-09 08:41:19">2020-11-09</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/nmap.png)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By 高诺琪</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script></div></body></html>