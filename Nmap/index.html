<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>[工具]Nmap笔记 | 高诺琪's Blog</title><meta name="description" content="前言Nmap（网络映射器）是Network Mapper的简称，图形界面为Zenmap。是一款网络嗅探和安全审核的工具。主要用于对目标的主机发现、端口扫描、版本探测等，为后面进行渗透做准备。官网地址：https:&#x2F;&#x2F;nmap.org 参数 table th:first-of-type {     width: 150px; &#x2F;&#x2F;设置表格样式 }       参数 说明    -sT TCP con"><meta name="keywords" content="工具"><meta name="author" content="高诺琪"><meta name="copyright" content="高诺琪"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/sister.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="content"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="[工具]Nmap笔记"><meta name="twitter:description" content="前言Nmap（网络映射器）是Network Mapper的简称，图形界面为Zenmap。是一款网络嗅探和安全审核的工具。主要用于对目标的主机发现、端口扫描、版本探测等，为后面进行渗透做准备。官网地址：https:&#x2F;&#x2F;nmap.org 参数 table th:first-of-type {     width: 150px; &#x2F;&#x2F;设置表格样式 }       参数 说明    -sT TCP con"><meta name="twitter:image" content="http://www.int0x80.top/img/nmap.png"><meta property="og:type" content="article"><meta property="og:title" content="[工具]Nmap笔记"><meta property="og:url" content="http://www.int0x80.top/Nmap/"><meta property="og:site_name" content="高诺琪's Blog"><meta property="og:description" content="前言Nmap（网络映射器）是Network Mapper的简称，图形界面为Zenmap。是一款网络嗅探和安全审核的工具。主要用于对目标的主机发现、端口扫描、版本探测等，为后面进行渗透做准备。官网地址：https:&#x2F;&#x2F;nmap.org 参数 table th:first-of-type {     width: 150px; &#x2F;&#x2F;设置表格样式 }       参数 说明    -sT TCP con"><meta property="og:image" content="http://www.int0x80.top/img/nmap.png"><meta property="article:published_time" content="2020-06-26T13:52:51.000Z"><meta property="article:modified_time" content="2020-06-28T01:42:41.671Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="canonical" href="http://www.int0x80.top/Nmap/"><link rel="prev" title="chakravyuh" href="http://www.int0x80.top/vulnhub/chakravyuh/"><link rel="next" title="[ 工具 ]hydra笔记" href="http://www.int0x80.top/hydra/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: false,
  Snackbar: undefined,
  baiduPush: true,
  highlightCopy: true,
  highlightLang: false,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/sister.jpg'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">8</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">5</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参数"><span class="toc-number">2.</span> <span class="toc-text">参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#设置时间模板"><span class="toc-number">2.1.</span> <span class="toc-text">设置时间模板</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用方法"><span class="toc-number">3.</span> <span class="toc-text">使用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#快速扫描"><span class="toc-number">3.1.</span> <span class="toc-text">快速扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义端口扫描"><span class="toc-number">3.2.</span> <span class="toc-text">自定义端口扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#冗余显示"><span class="toc-number">3.3.</span> <span class="toc-text">冗余显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ping扫描"><span class="toc-number">3.4.</span> <span class="toc-text">ping扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#系统类型探测"><span class="toc-number">3.5.</span> <span class="toc-text">系统类型探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP扫描"><span class="toc-number">3.6.</span> <span class="toc-text">TCP扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP扫描"><span class="toc-number">3.7.</span> <span class="toc-text">UDP扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SYN扫描"><span class="toc-number">3.8.</span> <span class="toc-text">SYN扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#服务版本探测"><span class="toc-number">3.9.</span> <span class="toc-text">服务版本探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#协议探测"><span class="toc-number">3.10.</span> <span class="toc-text">协议探测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由追踪"><span class="toc-number">3.11.</span> <span class="toc-text">路由追踪</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#读取文件ip扫描"><span class="toc-number">3.12.</span> <span class="toc-text">读取文件ip扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#保存输出"><span class="toc-number">3.13.</span> <span class="toc-text">保存输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#复合命令"><span class="toc-number">3.14.</span> <span class="toc-text">复合命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#脚本使用"><span class="toc-number">4.</span> <span class="toc-text">脚本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#脚本类型如下："><span class="toc-number">4.1.</span> <span class="toc-text">脚本类型如下：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#脚本参数："><span class="toc-number">4.2.</span> <span class="toc-text">脚本参数：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#默认脚本扫描"><span class="toc-number">4.3.</span> <span class="toc-text">默认脚本扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql爆破"><span class="toc-number">4.4.</span> <span class="toc-text">mysql爆破</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ftp匿名用户"><span class="toc-number">4.5.</span> <span class="toc-text">ftp匿名用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#执行DOS攻击"><span class="toc-number">4.6.</span> <span class="toc-text">执行DOS攻击</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/nmap.png)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">高诺琪's Blog</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">[工具]Nmap笔记</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-06-26 21:52:51"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-06-26</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-06-28 09:42:41"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-06-28</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/kali/">kali</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Nmap（网络映射器）是Network Mapper的简称，图形界面为Zenmap。是一款网络嗅探和安全审核的工具。主要用于对目标的主机发现、端口扫描、版本探测等，为后面进行渗透做准备。<br>官网地址：<a href="https://nmap.org" target="_blank" rel="noopener">https://nmap.org</a></p>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><style>
table th:first-of-type {
    width: 150px; //设置表格样式
}
</style>


<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-sT</td>
<td align="left">TCP connect()扫描，这是最基本的TCP扫描方式。这种扫描很容易被检测到，在目标主机的日志中会记录大批的连接请求以及错误信息。</td>
</tr>
<tr>
<td align="left">-sS</td>
<td align="left">TCP同步扫描(TCP SYN)，因为不必全部打开一个TCP连接，所以这项技术通常称为半开扫描(half-open)。这项技术最大的好处是，很少有系统能够把这记入系统日志。不过，你需要root权限来定制SYN数据包。</td>
</tr>
<tr>
<td align="left">-sF,-sX,-sN</td>
<td align="left">秘密FIN数据包扫描、圣诞树(Xmas Tree)、空(Null)扫描模式。这些扫描方式的理论依据是：关闭的端口需要对你的探测包回应RST包，而打开的端口必需忽略有问题的包(参考RFC 793第64页)。</td>
</tr>
<tr>
<td align="left">-sP</td>
<td align="left">ping扫描，nmap在任何情况下都会进行ping扫描，只有目标主机处于运行状态，才会进行后续的扫描。</td>
</tr>
<tr>
<td align="left">-sU</td>
<td align="left">UDP扫描。</td>
</tr>
<tr>
<td align="left">-sA</td>
<td align="left">ACK扫描，这项高级的扫描方法通常可以用来穿过防火墙。</td>
</tr>
<tr>
<td align="left">-sW</td>
<td align="left">滑动窗口扫描，非常类似于ACK的扫描。</td>
</tr>
<tr>
<td align="left">-sR</td>
<td align="left">RPC扫描，和其它不同的端口扫描方法结合使用。</td>
</tr>
<tr>
<td align="left">-b</td>
<td align="left">FTP反弹攻击(bounce attack)，连接到防火墙后面的一台FTP服务器做代理，接着进行端口扫描。</td>
</tr>
<tr>
<td align="left">-P0</td>
<td align="left">在扫描之前，不ping主机。</td>
</tr>
<tr>
<td align="left">-PT</td>
<td align="left">扫描之前，使用TCP ping确定哪些主机正在运行。</td>
</tr>
<tr>
<td align="left">-PS</td>
<td align="left">对于root用户，这个选项让nmap使用SYN包而不是ACK包来对目标主机进行扫描。</td>
</tr>
<tr>
<td align="left">-PI</td>
<td align="left">设置这个选项，让nmap使用真正的ping(ICMP echo请求)来扫描目标主机是否正在运行。</td>
</tr>
<tr>
<td align="left">-PB</td>
<td align="left">这是默认的ping扫描选项。它使用ACK(-PT)和ICMP(-PI)两种扫描类型并行扫描。如果防火墙能够过滤其中一种包，使用这种方法，你就能够穿过防火墙。</td>
</tr>
<tr>
<td align="left">-O</td>
<td align="left">识别远程主机系统。</td>
</tr>
<tr>
<td align="left">-I</td>
<td align="left">打开nmap的反向标志扫描功能。</td>
</tr>
<tr>
<td align="left">-f</td>
<td align="left">使用碎片IP数据包发送SYN、FIN、XMAS、NULL。包增加包过滤、入侵检测系统的难度，使其无法知道你的企图。</td>
</tr>
<tr>
<td align="left">-S &lt; IP &gt;</td>
<td align="left">在一些情况下，nmap可能无法确定你的源地址(nmap会告诉你)。在这种情况使用这个选项给出你的IP地址。这个标志的另一个用处是哄骗性的扫描，使得目标认为是另 一个地址在进行扫描</td>
</tr>
<tr>
<td align="left">-v</td>
<td align="left">冗余模式。强烈推荐使用这个选项，它会给出扫描过程中的详细信息。</td>
</tr>
<tr>
<td align="left">-g port</td>
<td align="left">设置扫描的源端口。一些天真的防火墙和包过滤器的规则集允许源端口为DNS(53)或者FTP-DATA(20)的包通过和实现连接。显然，如果攻击者把源端口修改为20或者53，就可以摧毁防火墙的防护。</td>
</tr>
<tr>
<td align="left">-6</td>
<td align="left">默认为ipv4，需要用ipv6时使用</td>
</tr>
<tr>
<td align="left">-oN &lt; File &gt;</td>
<td align="left">要求将标准输出直接写入指定的文件</td>
</tr>
<tr>
<td align="left">-oX</td>
<td align="left">输出xml文件</td>
</tr>
<tr>
<td align="left">exclude &lt; ip &gt;</td>
<td align="left">排除指定的主机</td>
</tr>
<tr>
<td align="left">excludefile &lt; file &gt;</td>
<td align="left">排除制定文件内的ip</td>
</tr>
</tbody></table>
<h3 id="设置时间模板"><a href="#设置时间模板" class="headerlink" title="设置时间模板"></a>设置时间模板</h3><p>Nmap使用6个时间模板，使用时采用-T选项及数字(0 - 5) 或名称</p>
<ul>
<li>paranoid (0)</li>
<li>sneaky (1)</li>
<li>polite (2)</li>
<li>normal(3)</li>
<li>aggressive (4)</li>
<li>insane (5)</li>
</ul>
<p>前两种模式用于IDS躲避，Polite模式降低了扫描 速度以使用更少的带宽和目标主机资源，默认模式为Normal，Aggressive模式假设用户具有合适及可靠的网络从而加速 扫描。Insane模式假设用户具有特别快的网络或者愿意为获得速度而牺牲准确性。</p>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h3 id="快速扫描"><a href="#快速扫描" class="headerlink" title="快速扫描"></a>快速扫描</h3><p>命令语法：<code>nmap &lt; ip &gt;</code><br>nmap默认发送一个arp的ping包，默认探测的端口为1-10000</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-24 03:13 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.000084</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br></pre></td></tr></table></figure>

<h3 id="自定义端口扫描"><a href="#自定义端口扫描" class="headerlink" title="自定义端口扫描"></a>自定义端口扫描</h3><p>命令语法：<code>nmap -p(port1,port2) &lt; ip &gt;</code><br>有时候只需要知道几个端口是否开放，可以用-p指定端口进行扫描</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -p22,3306 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 03:22 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00062</span>s latency).</span><br><span class="line"></span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br></pre></td></tr></table></figure>

<p>命令语法：<code>nmap -p(range) &lt; ip &gt;</code><br>nmap默认扫描1-10000，有时候需要查看其他端口开放情况可以用-p指定范围，最大范围不能大于65535</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -p1-65535 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 03:27 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00088</span>s latency).</span><br><span class="line">Not shown: <span class="number">65533</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">1.86</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="冗余显示"><a href="#冗余显示" class="headerlink" title="冗余显示"></a>冗余显示</h3><p>命令语法：  <code>nmap -vv &lt; ip &gt;</code><br>进行简单扫描并且对结果进行详细输出</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -vv 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 04:14 EDT</span></span><br><span class="line">Initiating ARP Ping Scan at <span class="number">04</span>:<span class="number">14</span></span><br><span class="line">Scanning <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span> [<span class="number">1</span> port]</span><br><span class="line">Completed ARP Ping Scan at <span class="number">04</span>:<span class="number">14</span>, <span class="number">0.00</span>s elapsed (<span class="number">1</span> total hosts)</span><br><span class="line">Initiating Parallel DNS resolution of <span class="number">1</span> host. at <span class="number">04</span>:<span class="number">14</span></span><br><span class="line">Completed Parallel DNS resolution of <span class="number">1</span> host. at <span class="number">04</span>:<span class="number">14</span>, <span class="number">0.00</span>s elapsed</span><br><span class="line">Initiating SYN Stealth Scan at <span class="number">04</span>:<span class="number">14</span></span><br><span class="line">Scanning <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span> [<span class="number">1000</span> ports]</span><br><span class="line">Discovered <span class="built_in">open</span> port <span class="number">3306</span>/tcp on <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Discovered <span class="built_in">open</span> port <span class="number">22</span>/tcp on <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Completed SYN Stealth Scan at <span class="number">04</span>:<span class="number">14</span>, <span class="number">0.04</span>s elapsed (<span class="number">1000</span> total ports)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up, received arp-response (<span class="number">0.00013</span>s latency).</span><br><span class="line">Scanned at <span class="number">2020</span><span class="number">-06</span><span class="number">-25</span> <span class="number">04</span>:<span class="number">14</span>:<span class="number">28</span> EDT <span class="keyword">for</span> <span class="number">0</span>s</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">Reason: <span class="number">998</span> resets</span><br><span class="line">PORT     STATE SERVICE REASON</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh     syn-ack ttl <span class="number">64</span></span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql   syn-ack ttl <span class="number">64</span></span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Read data files from: /usr/bin/../share/nmap</span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.10</span> seconds</span><br><span class="line">           Raw packets sent: <span class="number">1001</span> (<span class="number">44.028</span>KB) | Rcvd: <span class="number">1001</span> (<span class="number">40.036</span>KB)</span><br></pre></td></tr></table></figure>

<h3 id="ping扫描"><a href="#ping扫描" class="headerlink" title="ping扫描"></a>ping扫描</h3><p>命令语法：<code>nmap -sP &lt; ip &gt;</code><br>c段：<code>192.168.148.0/24</code>  or <code>192.168.148.1-255</code><br>用ping的方式来找到存活的主机，也可以用来寻找c段的主机</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">oot@gnq:~/Desktop<span class="meta"># nmap -sP  192.168.148.*</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 04:19 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.1</span></span><br><span class="line">Host is up (<span class="number">0.00099</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">50</span>:<span class="number">56</span>:C0:<span class="number">00</span>:<span class="number">08</span> (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.2</span></span><br><span class="line">Host is up (<span class="number">0.00019</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">50</span>:<span class="number">56</span>:F2:<span class="number">26</span>:<span class="number">7</span>E (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.128</span></span><br><span class="line">Host is up (<span class="number">0.00017</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">4B</span>:<span class="number">50</span>:FF (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00030</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.254</span></span><br><span class="line">Host is up (<span class="number">0.00018</span>s latency).</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">50</span>:<span class="number">56</span>:E4:<span class="number">06</span>:<span class="number">43</span> (VMware)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.129</span></span><br><span class="line">Host is up.</span><br><span class="line">Nmap done: <span class="number">256</span> IP addresses (<span class="number">6</span> hosts up) scanned in <span class="number">1.97</span> seconds</span><br></pre></td></tr></table></figure>

<p>有些主机禁止ping，可以用P0来跳过ping直接直接扫描</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">oot@gnq:~/Desktop<span class="meta"># nmap -P0  192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 04:44 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00011</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.11</span> seconds</span><br></pre></td></tr></table></figure>

<p>sL仅列出指定网络上的每台主机，不发送任何报文到目标主机<br>命令语法 <code>nmap -sL 192.168.148.*</code></p>
<h3 id="系统类型探测"><a href="#系统类型探测" class="headerlink" title="系统类型探测"></a>系统类型探测</h3><p>命令语法： <code>nmap -O &lt; ip &gt;</code><br>探测目标的系统版本</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -O 192.168.148.136</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 04:27 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.136</span></span><br><span class="line">Host is up (<span class="number">0.00081</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line">Device type: general purpose</span><br><span class="line">Running: Linux <span class="number">3.</span>X|<span class="number">4.</span>X</span><br><span class="line">OS CPE: cpe:/o:linux:linux_kernel:<span class="number">3</span> cpe:/o:linux:linux_kernel:<span class="number">4</span></span><br><span class="line">OS details: Linux <span class="number">3.2</span> - <span class="number">4.9</span></span><br><span class="line">Network Distance: <span class="number">1</span> hop</span><br><span class="line"></span><br><span class="line">OS detection performed. Please report any incorrect results at https:<span class="comment">//nmap.org/submit/ .</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">1.53</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="TCP扫描"><a href="#TCP扫描" class="headerlink" title="TCP扫描"></a>TCP扫描</h3><p>命令语法：<code>nmap -sT &lt; ip &gt;</code><br>查看服务器开放TCP协议的端口</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -sT 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:06 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00097</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br></pre></td></tr></table></figure>


<h3 id="UDP扫描"><a href="#UDP扫描" class="headerlink" title="UDP扫描"></a>UDP扫描</h3><p>命令语法: <code>nmap -sU &lt; ip &gt;</code><br>查看服务器开放UDP协议的端口</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -sU 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:11 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.0011</span>s latency).</span><br><span class="line">All <span class="number">1000</span> scanned ports on <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span> are closed (<span class="number">956</span>) <span class="keyword">or</span> <span class="built_in">open</span>|filtered (<span class="number">44</span>)</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">1035.39</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="SYN扫描"><a href="#SYN扫描" class="headerlink" title="SYN扫描"></a>SYN扫描</h3><p>命令语法：<code>nmap -sS &lt; ip &gt;</code><br>没有进行完整的TCP连接，执行速度快，且很少被记录在系统日志当中，需要root权限</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~/Desktop<span class="meta"># nmap -sS 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-25 20:43 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.000083</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.09</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="服务版本探测"><a href="#服务版本探测" class="headerlink" title="服务版本探测"></a>服务版本探测</h3><p>命令语法: <code>nmap -sV &lt; ip &gt;</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~<span class="meta"># nmap -sV 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:14 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00022</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh     OpenSSH <span class="number">7.4</span> (protocol <span class="number">2.0</span>)</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql   MySQL <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https:<span class="comment">//nmap.org/submit/ .</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">2.01</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="协议探测"><a href="#协议探测" class="headerlink" title="协议探测"></a>协议探测</h3><p>命令语法 <code>nmap -sO &lt; ip &gt;</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~<span class="meta"># nmap -sO 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:18 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00057</span>s latency).</span><br><span class="line">Not shown: <span class="number">252</span> <span class="built_in">open</span>|filtered protocols</span><br><span class="line">PROTOCOL STATE  SERVICE</span><br><span class="line"><span class="number">1</span>        <span class="built_in">open</span>   icmp</span><br><span class="line"><span class="number">6</span>        <span class="built_in">open</span>   tcp</span><br><span class="line"><span class="number">21</span>       closed prm</span><br><span class="line"><span class="number">79</span>       closed wb-expak</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">2.33</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="路由追踪"><a href="#路由追踪" class="headerlink" title="路由追踪"></a>路由追踪</h3><p>命令语法：<code>nmap -traceroute www.baidu.com</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">oot@gnq:~<span class="meta"># nmap --traceroute www.baidu.com</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:27 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> www.baidu.com (<span class="number">36.152</span><span class="number">.44</span><span class="number">.95</span>)</span><br><span class="line">Host is up (<span class="number">0.013</span>s latency).</span><br><span class="line">Other addresses <span class="keyword">for</span> www.baidu.com (<span class="keyword">not</span> scanned): <span class="number">36.152</span><span class="number">.44</span><span class="number">.96</span></span><br><span class="line">Not shown: <span class="number">998</span> filtered ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line"><span class="number">80</span>/tcp  <span class="built_in">open</span>  http</span><br><span class="line"><span class="number">443</span>/tcp <span class="built_in">open</span>  https</span><br><span class="line"></span><br><span class="line">TRACEROUTE (<span class="keyword">using</span> port <span class="number">80</span>/tcp)</span><br><span class="line">HOP RTT     ADDRESS</span><br><span class="line"><span class="number">1</span>   <span class="number">0.22</span> ms <span class="number">192.168</span><span class="number">.148</span><span class="number">.2</span></span><br><span class="line"><span class="number">2</span>   <span class="number">0.09</span> ms <span class="number">36.152</span><span class="number">.44</span><span class="number">.95</span></span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">54.45</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="读取文件ip扫描"><a href="#读取文件ip扫描" class="headerlink" title="读取文件ip扫描"></a>读取文件ip扫描</h3><p>命令语法：<code>nmap -iL &lt; File &gt;</code><br>读取文件中的ip，可以进行批量处理</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~<span class="meta"># cat test.txt </span></span><br><span class="line"><span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.148</span><span class="number">.128</span></span><br><span class="line">root@gnq:~# </span><br><span class="line">root@gnq:~#                                                                                                                                                                                                                                </span><br><span class="line">root@gnq:~<span class="meta"># nmap -iL test.txt                                                                                                                                                                                                              </span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 03:51 EDT                                                                                                                                                                            </span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span>                                                                                                                                                                                                       </span><br><span class="line">Host is up (<span class="number">0.00048</span>s latency).                                                                                                                                                                                                             </span><br><span class="line">Not shown: <span class="number">998</span> closed ports                                                                                                                                                                                                                </span><br><span class="line">PORT     STATE SERVICE                                                                                                                                                                                                                     </span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.128</span></span><br><span class="line">Host is up (<span class="number">0.00045</span>s latency).</span><br><span class="line">Not shown: <span class="number">999</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">4000</span>/tcp <span class="built_in">open</span>  remoteanything</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">4B</span>:<span class="number">50</span>:FF (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">2</span> IP addresses (<span class="number">2</span> hosts up) scanned in <span class="number">0.26</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="保存输出"><a href="#保存输出" class="headerlink" title="保存输出"></a>保存输出</h3><p>可以用-oG/oN 来保存nmap的输出结果</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">oot@gnq:~<span class="meta"># nmap -sV 192.168.148.137 -oG out.txt</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 04:03 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.000088</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh     OpenSSH <span class="number">7.4</span> (protocol <span class="number">2.0</span>)</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql   MySQL <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https:<span class="comment">//nmap.org/submit/ .</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.41</span> seconds</span><br><span class="line">root@gnq:~# </span><br><span class="line">root@gnq:~# </span><br><span class="line">root@gnq:~# cat out.txt </span><br><span class="line"># Nmap <span class="number">7.80</span> scan initiated Fri Jun <span class="number">26</span> <span class="number">04</span>:<span class="number">03</span>:<span class="number">52</span> <span class="number">2020</span> as: nmap -sV -oG out.txt <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host: <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span> ()        Status: Up</span><br><span class="line">Host: <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span> ()        Ports: <span class="number">22</span>/<span class="built_in">open</span>/tcp<span class="comment">//ssh//OpenSSH 7.4 (protocol 2.0)/, 3306/open/tcp//mysql//MySQL 5.7.30/       Ignored State: closed (998)</span></span><br><span class="line"># Nmap done at Fri Jun <span class="number">26</span> <span class="number">04</span>:<span class="number">03</span>:<span class="number">53</span> <span class="number">2020</span> -- <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.41</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="复合命令"><a href="#复合命令" class="headerlink" title="复合命令"></a>复合命令</h3><p>命令语法: <code>nmap -A &lt; ip &gt;</code><br>-A 集成了探测操作系统类型和服务版本、路由追踪。 根据需求可以自定义组合命令参数进行探测</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:~<span class="meta"># nmap -A 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 04:12 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00052</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh     OpenSSH <span class="number">7.4</span> (protocol <span class="number">2.0</span>)</span><br><span class="line">| ssh-hostkey: </span><br><span class="line">|   <span class="number">2048</span> fd:<span class="number">00</span>:<span class="number">59</span>:<span class="number">4</span>e:e1:d7:<span class="number">84</span>:<span class="number">4b</span>:<span class="number">78</span>:<span class="number">2</span>d:<span class="number">2f</span>:<span class="number">29</span>:cb:<span class="number">64</span>:e9:eb (RSA)</span><br><span class="line">|   <span class="number">256</span> f3:<span class="number">22</span>:<span class="number">6b</span>:b1:<span class="number">51</span>:bc:a1:c3:<span class="number">92</span>:<span class="number">34</span>:<span class="number">58</span>:d6:<span class="number">63</span>:<span class="number">09</span>:b7:df (ECDSA)</span><br><span class="line">|_  <span class="number">256</span> <span class="number">8</span>c:<span class="number">99</span>:b7:b5:ea:<span class="number">50</span>:d2:bc:<span class="number">7</span>d:dc:f7:<span class="number">1b</span>:fb:<span class="number">5</span>a:ed:fd (ED25519)</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql   MySQL <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">| mysql-info: </span><br><span class="line">|   Protocol: <span class="number">10</span></span><br><span class="line">|   Version: <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">|   Thread ID: <span class="number">9</span></span><br><span class="line">|   Capabilities flags: <span class="number">65535</span></span><br><span class="line">|   Some Capabilities: SupportsLoadDataLocal, Speaks41ProtocolNew, LongColumnFlag, Speaks41ProtocolOld, IgnoreSigpipes, SupportsTransactions, LongPassword, SwitchToSSLAfterHandshake, ConnectWithDatabase, IgnoreSpaceBeforeParenthesis, Support41Auth, DontAllowDatabaseTableColumn, InteractiveClient, SupportsCompression, ODBCClient, FoundRows, SupportsMultipleStatments, SupportsMultipleResults, SupportsAuthPlugins</span><br><span class="line">|   Status: Autocommit</span><br><span class="line">|   Salt: <span class="number">1</span>iw5a\x15s\x0D5U\x17`w\x18\x1D\x033uw\x1A</span><br><span class="line">|_  Auth Plugin Name: mysql_native_password</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line">Device type: general purpose</span><br><span class="line">Running: Linux <span class="number">3.</span>X|<span class="number">4.</span>X</span><br><span class="line">OS CPE: cpe:/o:linux:linux_kernel:<span class="number">3</span> cpe:/o:linux:linux_kernel:<span class="number">4</span></span><br><span class="line">OS details: Linux <span class="number">3.2</span> - <span class="number">4.9</span></span><br><span class="line">Network Distance: <span class="number">1</span> hop</span><br><span class="line"></span><br><span class="line">TRACEROUTE</span><br><span class="line">HOP RTT     ADDRESS</span><br><span class="line"><span class="number">1</span>   <span class="number">0.52</span> ms <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line"></span><br><span class="line">OS <span class="keyword">and</span> Service detection performed. Please report any incorrect results at https:<span class="comment">//nmap.org/submit/ .</span></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">4.31</span> seconds</span><br></pre></td></tr></table></figure>


<h2 id="脚本使用"><a href="#脚本使用" class="headerlink" title="脚本使用"></a>脚本使用</h2><p>nmap中集成了大量的脚本供用户使用，脚本名以<code>.nse</code>为后缀，存放在<code>/usr/share/nmap/script</code>目录下。</p>
<h3 id="脚本类型如下："><a href="#脚本类型如下：" class="headerlink" title="脚本类型如下："></a>脚本类型如下：</h3><ul>
<li>auth: 负责处理鉴权证书绕开鉴权的脚本  </li>
<li>broadcast: 在局域网内探查更多服务开启状况如dhcp/dns/sqlserver等服务  </li>
<li>brute: 提供暴力破解方式针对常见的应用如http/snmp等  </li>
<li>default: 使用-sC或-A选项扫描时候默认的脚本提供基本脚本扫描能力  </li>
<li>discovery: 对网络进行更多的信息如SMB枚举、SNMP查询等  </li>
<li>dos: 用于进行拒绝服务攻击  </li>
<li>exploit: 利用已知的漏洞入侵系统  </li>
<li>external: 利用第三方的数据库或资源例如进行whois解析  </li>
<li>fuzzer: 模糊测试的脚本发送异常的包到目标机探测出潜在漏洞 </li>
<li>intrusive: 入侵性的脚本此类脚本可能引发对方的IDS/IPS的记录或屏蔽</li>
<li>malware: 探测目标机是否感染了病毒、开启了后门等信息  </li>
<li>safe: 此类与intrusive相反属于安全性脚本  </li>
<li>version: 负责增强服务与版本扫描Version Detection功能的脚本  </li>
<li>vuln: 负责检查目标机是否有常见的漏洞Vulnerability如是否有MS08_067</li>
</ul>
<h3 id="脚本参数："><a href="#脚本参数：" class="headerlink" title="脚本参数："></a>脚本参数：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-sC ： --script=<span class="keyword">default</span> 使用默认选项</span><br><span class="line">--script=&lt; 脚本名称 &gt; : 选取使用的脚本</span><br><span class="line">--script-args=&lt; arg1=arg1 &gt; ：设置脚本参数</span><br><span class="line">--script-args-file=&lt; <span class="built_in">File</span> &gt; ：设置脚本使用的文件</span><br><span class="line">--script-trace ：显示脚本执行过程的数据</span><br><span class="line">--script-help=&lt; 脚本名称&gt; ： 显示帮助信息</span><br></pre></td></tr></table></figure>


<h3 id="默认脚本扫描"><a href="#默认脚本扫描" class="headerlink" title="默认脚本扫描"></a>默认脚本扫描</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:/<span class="meta"># nmap -sC 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 07:39 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00010</span>s latency).</span><br><span class="line">Not shown: <span class="number">997</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">21</span>/tcp   <span class="built_in">open</span>  ftp</span><br><span class="line">| ftp-anon: Anonymous FTP login allowed (FTP code <span class="number">230</span>)</span><br><span class="line">|_drwxr-xr-x    <span class="number">2</span> <span class="number">0</span>        <span class="number">0</span>               <span class="number">6</span> Apr <span class="number">01</span> <span class="number">04</span>:<span class="number">55</span> pub</span><br><span class="line">| ftp-syst: </span><br><span class="line">|   STAT: </span><br><span class="line">| FTP server status:</span><br><span class="line">|      Connected to ::ffff:<span class="number">192.168</span><span class="number">.148</span><span class="number">.129</span></span><br><span class="line">|      Logged in as ftp</span><br><span class="line">|      TYPE: ASCII</span><br><span class="line">|      No session bandwidth limit</span><br><span class="line">|      Session timeout in seconds is <span class="number">300</span></span><br><span class="line">|      Control connection is plain <span class="built_in">text</span></span><br><span class="line">|      Data connections will be plain <span class="built_in">text</span></span><br><span class="line">|      At session startup, client count was <span class="number">2</span></span><br><span class="line">|      vsFTPd <span class="number">3.0</span><span class="number">.2</span> - secure, fast, stable</span><br><span class="line">|_End of status</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line">| ssh-hostkey: </span><br><span class="line">|   <span class="number">2048</span> fd:<span class="number">00</span>:<span class="number">59</span>:<span class="number">4</span>e:e1:d7:<span class="number">84</span>:<span class="number">4b</span>:<span class="number">78</span>:<span class="number">2</span>d:<span class="number">2f</span>:<span class="number">29</span>:cb:<span class="number">64</span>:e9:eb (RSA)</span><br><span class="line">|   <span class="number">256</span> f3:<span class="number">22</span>:<span class="number">6b</span>:b1:<span class="number">51</span>:bc:a1:c3:<span class="number">92</span>:<span class="number">34</span>:<span class="number">58</span>:d6:<span class="number">63</span>:<span class="number">09</span>:b7:df (ECDSA)</span><br><span class="line">|_  <span class="number">256</span> <span class="number">8</span>c:<span class="number">99</span>:b7:b5:ea:<span class="number">50</span>:d2:bc:<span class="number">7</span>d:dc:f7:<span class="number">1b</span>:fb:<span class="number">5</span>a:ed:fd (ED25519)</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">| mysql-info: </span><br><span class="line">|   Protocol: <span class="number">10</span></span><br><span class="line">|   Version: <span class="number">5.7</span><span class="number">.30</span></span><br><span class="line">|   Thread ID: <span class="number">45039</span></span><br><span class="line">|   Capabilities flags: <span class="number">65535</span></span><br><span class="line">|   Some Capabilities: Support41Auth, SupportsLoadDataLocal, Speaks41ProtocolOld, SupportsCompression, FoundRows, SupportsTransactions, LongPassword, ODBCClient, ConnectWithDatabase, IgnoreSigpipes, SwitchToSSLAfterHandshake, DontAllowDatabaseTableColumn, InteractiveClient, Speaks41ProtocolNew, IgnoreSpaceBeforeParenthesis, LongColumnFlag, SupportsMultipleStatments, SupportsMultipleResults, SupportsAuthPlugins</span><br><span class="line">|   Status: Autocommit</span><br><span class="line">|   Salt: _/&gt;h\x15f`Xb\x0FC_%^c\x0CY\x01,|</span><br><span class="line">|_  Auth Plugin Name: mysql_native_password</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.54</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="mysql爆破"><a href="#mysql爆破" class="headerlink" title="mysql爆破"></a>mysql爆破</h3><p><code>nmap --script=mysql-brute &lt; ip &gt;</code>  对mysql进行爆破，并且成功爆破出账号密码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:/<span class="meta"># nmap --script=mysql-brute 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 04:48 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.00017</span>s latency).</span><br><span class="line">Not shown: <span class="number">998</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">| mysql-brute: </span><br><span class="line">|   Accounts: </span><br><span class="line">|     root:root - Valid credentials</span><br><span class="line">|_  Statistics: Performed <span class="number">45009</span> guesses in <span class="number">33</span> seconds, average tps: <span class="number">1418.9</span></span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">32.72</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="ftp匿名用户"><a href="#ftp匿名用户" class="headerlink" title="ftp匿名用户"></a>ftp匿名用户</h3><p><code>nmap --script=ftp-anon 192.168.148.137</code> 查找该ip是否允许ftp使用匿名用户进行登入</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:/<span class="meta"># nmap --script=ftp-anon 192.168.148.137</span></span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 07:15 EDT</span></span><br><span class="line">Nmap scan report <span class="keyword">for</span> <span class="number">192.168</span><span class="number">.148</span><span class="number">.137</span></span><br><span class="line">Host is up (<span class="number">0.000082</span>s latency).</span><br><span class="line">Not shown: <span class="number">997</span> closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line"><span class="number">21</span>/tcp   <span class="built_in">open</span>  ftp</span><br><span class="line">| ftp-anon: Anonymous FTP login allowed (FTP code <span class="number">230</span>)</span><br><span class="line">|_drwxr-xr-x    <span class="number">2</span> <span class="number">0</span>        <span class="number">0</span>               <span class="number">6</span> Apr <span class="number">01</span> <span class="number">04</span>:<span class="number">55</span> pub</span><br><span class="line"><span class="number">22</span>/tcp   <span class="built_in">open</span>  ssh</span><br><span class="line"><span class="number">3306</span>/tcp <span class="built_in">open</span>  mysql</span><br><span class="line">MAC Address: <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">75</span>:<span class="number">30</span>:E8 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: <span class="number">1</span> IP address (<span class="number">1</span> host up) scanned in <span class="number">0.29</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="执行DOS攻击"><a href="#执行DOS攻击" class="headerlink" title="执行DOS攻击"></a>执行DOS攻击</h3><p><code>nmap  --script http-slowloris --max-parallelism 1000 192.168.148.137</code>  </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@gnq:/<span class="meta"># nmap  --script http-slowloris --max-parallelism 1000 192.168.148.137</span></span><br><span class="line">Warning: Your <span class="built_in">max</span>-parallelism (-M) option is extraordinarily high, which can hurt reliability</span><br><span class="line">Starting Nmap <span class="number">7.80</span> ( https:<span class="comment">//nmap.org ) at 2020-06-26 09:00 EDT</span></span><br></pre></td></tr></table></figure>



<p>参考及部分内容转载（侵删）</p>
<ul>
<li><a href="http://linux.51yip.com/search/nmap" target="_blank" rel="noopener">http://linux.51yip.com/search/nmap</a></li>
<li><a href="https://www.cnblogs.com/LyShark/p/10637507.html" target="_blank" rel="noopener">https://www.cnblogs.com/LyShark/p/10637507.html</a></li>
<li><a href="https://www.freebuf.com/news/141607.html" target="_blank" rel="noopener">https://www.freebuf.com/news/141607.html</a></li>
<li><a href="http://www.nmap.com.cn/doc/manual.shtm" target="_blank" rel="noopener">http://www.nmap.com.cn/doc/manual.shtm</a></li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">高诺琪</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.int0x80.top/Nmap/">http://www.int0x80.top/Nmap/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.int0x80.top" target="_blank">高诺琪's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a></div><div class="post_share"></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/vulnhub/chakravyuh/"><img class="prev_cover" src="/img/vulnhub/Chakravyuh.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">chakravyuh</div></div></a></div><div class="next-post pull_right"><a href="/hydra/"><img class="next_cover" src="/img/hydra.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">[ 工具 ]hydra笔记</div></div></a></div></nav></article></main><footer id="footer" style="background-image: url(/img/nmap.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By 高诺琪</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script></body></html>